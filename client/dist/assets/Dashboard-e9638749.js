import{c as h,r as s,j as e,m as a,a as p,C as L,Q as W,R as Q,N as P,A as I}from"./index-5b5873b3.js";import{A as g}from"./arrow-right-ff43a6c3.js";import{M as q,C as B}from"./message-circle-7ecc7dac.js";import{C as V}from"./clock-29570e1b.js";import{C as O}from"./circle-check-8d17402a.js";import{C as Z}from"./cloud-upload-9d40b75f.js";import{T as F}from"./trending-up-786f0f6d.js";import{D as G}from"./download-873f1ff6.js";import{S as J}from"./sparkles-4660b4c3.js";import{A as K}from"./index-1fea0efe.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Y=h("bell-ring",X);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],te=h("calendar",ee);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],ae=h("cloud-sun",se);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],oe=h("inbox",ie);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],H=h("moon",le);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],T=h("sun",re),ne={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.1}}},b={hidden:{y:20,opacity:0,scale:.98},visible:{y:0,opacity:1,scale:1,transition:{type:"spring",stiffness:100,damping:20}},hover:{y:-5,transition:{duration:.3,ease:"easeOut"}}},w=({icon:o,text:i,actionText:m,actionLink:d})=>e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-400 py-6 min-h-[160px]",children:[e.jsx("div",{className:"p-3 bg-slate-50 rounded-full mb-3 ring-1 ring-slate-100",children:e.jsx(o,{size:24,className:"opacity-50"})}),e.jsx("span",{className:"text-sm font-medium text-slate-500",children:i}),m&&d&&e.jsxs(p,{to:d,className:"mt-2 text-xs font-semibold text-indigo-600 hover:text-indigo-700 flex items-center gap-1 group",children:[m," ",e.jsx(L,{size:12,className:"group-hover:translate-x-0.5 transition-transform"})]})]}),de=({username:o})=>{const[i,m]=s.useState(new Date);s.useEffect(()=>{const l=setInterval(()=>m(new Date),6e4);return()=>clearInterval(l)},[]);const d=s.useMemo(()=>{const l=i.getHours();let c="ä½ å¥½",r=T,n="text-amber-500";return l<5?(c="å¤œæ·±äº†",r=H,n="text-indigo-400"):l<11?(c="æ—©ä¸Šå¥½",r=T,n="text-amber-500"):l<18?(c="ä¸‹åˆå¥½",r=ae,n="text-orange-500"):(c="æ™šä¸Šå¥½",r=H,n="text-indigo-400"),{greeting:c,Icon:r,colorClass:n}},[i]),{Icon:v,greeting:y,colorClass:f}=d;return e.jsxs("div",{className:"relative mb-10 pt-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[e.jsxs("div",{children:[e.jsxs(a.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`p-1.5 rounded-lg bg-white shadow-sm border border-slate-100 ${f}`,children:e.jsx(v,{size:16,strokeWidth:2.5})}),e.jsx("span",{className:"text-sm font-medium text-slate-500 tracking-wide uppercase",children:i.toLocaleDateString(void 0,{weekday:"long"})})]}),e.jsxs(a.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.5},className:"text-3xl md:text-4xl font-extrabold text-slate-900 tracking-tight",children:[y,"ï¼Œ",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 bg-[length:200%_auto] animate-gradient",children:o||"åŒå­¦"}),e.jsx(a.span,{className:"inline-block ml-2 origin-bottom-right",animate:{rotate:[0,15,-5,15,0]},transition:{delay:.5,duration:1.5,repeat:0,repeatDelay:5},children:"ğŸ‘‹"})]}),e.jsx(a.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-2 text-slate-500 max-w-lg",children:"å‡†å¤‡å¥½æ¢ç´¢ä»Šå¤©çš„çŸ¥è¯†äº†å—ï¼Ÿè¿™é‡Œæ˜¯æ‚¨çš„å­¦ä¹ æ§åˆ¶å°ã€‚"})]}),e.jsxs(a.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3,type:"spring"},className:"hidden md:flex items-center gap-4 bg-white/60 backdrop-blur-md border border-white/50 p-3 rounded-2xl shadow-sm hover:shadow-md transition-shadow cursor-default group",children:[e.jsx("div",{className:"bg-indigo-50 text-indigo-600 p-3 rounded-xl group-hover:scale-110 transition-transform duration-300",children:e.jsx(te,{size:24})}),e.jsxs("div",{className:"pr-4 border-r border-slate-200",children:[e.jsx("div",{className:"text-xs text-slate-400 font-semibold uppercase",children:"Today"}),e.jsxs("div",{className:"text-lg font-bold text-slate-800",children:[i.getDate(),"æ—¥"]})]}),e.jsxs("div",{className:"pr-2",children:[e.jsx("div",{className:"text-xs text-slate-400 font-semibold uppercase",children:"Time"}),e.jsx("div",{className:"text-lg font-bold text-slate-800 font-mono",children:i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})]}),e.jsx("div",{className:"absolute -top-20 -left-20 w-64 h-64 bg-indigo-500/5 rounded-full blur-3xl -z-10 pointer-events-none mix-blend-multiply"}),e.jsx("div",{className:"absolute top-10 right-20 w-72 h-72 bg-purple-500/5 rounded-full blur-3xl -z-10 pointer-events-none mix-blend-multiply"})]})};function je(){const o=localStorage.getItem("id")||"",[i,m]=s.useState(""),[d,v]=s.useState([]),[y,f]=s.useState([]),[l,c]=s.useState([]),[r,n]=s.useState(0),[k,S]=s.useState(0),[j,$]=s.useState([]),[N,E]=s.useState(!0);s.useEffect(()=>{const t=localStorage.getItem("username")||localStorage.getItem("fullName")||"åŒå­¦";m(t),(async()=>{try{const[u,_,R]=await Promise.all([W.list({my:!0,sort:"latest",page:1,pageSize:3}).catch(()=>({items:[]})),Q.list({page:1,pageSize:50}).catch(()=>({items:[]})),P.unreadAnswers().catch(()=>({items:[]}))]);v(u.items||[]),c(_.items||[]);const U=(_.items||[]).filter(D=>D.uploaderId===o);f(U),$(R.items||[]);try{const A=(await I.me()).user||{};n(Number(A.uploads||0)),S(Number(A.downloads||0))}catch{}}finally{E(!1)}})();const M=()=>{I.stats().then(u=>{n(Number(u.uploads||0)),S(Number(u.downloads||0))}).catch(()=>{})};return window.addEventListener("SH_STATS_UPDATED",M),()=>window.removeEventListener("SH_STATS_UPDATED",M)},[o]);const C=s.useMemo(()=>({count:r,downloads:k}),[r,k]),z=s.useMemo(()=>(l||[]).filter(t=>t.uploaderId!==o).sort((t,x)=>(x.downloadCount||0)-(t.downloadCount||0)).slice(0,5),[l,o]);return e.jsxs(a.div,{initial:"hidden",animate:"visible",variants:ne,className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[e.jsx(de,{username:i}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(a.div,{variants:b,whileHover:"hover",className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100/80 flex flex-col relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(g,{className:"text-slate-300",size:20})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6 z-10",children:[e.jsx("div",{className:"p-3 bg-sky-50 text-sky-600 rounded-2xl shadow-inner",children:e.jsx(q,{size:22,strokeWidth:2.5})}),e.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"æˆ‘çš„æé—®"})]}),e.jsx("div",{className:"flex-1 flex flex-col z-10",children:N?e.jsx("div",{className:"space-y-3 animate-pulse",children:[1,2].map(t=>e.jsx("div",{className:"h-12 bg-slate-50 rounded-xl"},t))}):d.length>0?e.jsx("ul",{className:"space-y-3",children:d.slice(0,3).map(t=>e.jsx("li",{children:e.jsxs(p,{to:`/student/qa/${t.id}`,className:"block group/item p-3 rounded-2xl bg-slate-50/50 hover:bg-white border border-transparent hover:border-slate-100 hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start gap-3",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700 line-clamp-1 group-hover/item:text-indigo-600 transition-colors",children:t.title}),t.status==="open"?e.jsx("div",{className:"shrink-0 w-2 h-2 rounded-full bg-amber-400 mt-1.5 shadow-[0_0_8px_rgba(251,191,36,0.6)]"}):e.jsx("div",{className:"shrink-0 w-2 h-2 rounded-full bg-emerald-400 mt-1.5 shadow-[0_0_8px_rgba(52,211,153,0.6)]"})]}),e.jsxs("div",{className:"mt-2 text-xs text-slate-400 flex items-center gap-1.5",children:[t.status==="open"?e.jsx(V,{size:12}):e.jsx(O,{size:12}),e.jsx("span",{children:t.status==="open"?"ç­‰å¾…å›å¤":"å·²è§£å†³"})]})]})},t.id))}):e.jsx(w,{icon:B,text:"æš‚æ— æé—®",actionText:"å»æé—®",actionLink:"/student/qa/new"})})]}),e.jsxs(a.div,{variants:b,whileHover:"hover",className:"bg-slate-900 rounded-[2rem] p-7 shadow-2xl text-white flex flex-col justify-between relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-[-50%] left-[-50%] w-[200%] h-[200%] bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-indigo-500/20 via-slate-900/0 to-transparent opacity-60 group-hover:opacity-100 transition-opacity duration-700"}),e.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-indigo-500/20 rounded-full blur-3xl animate-pulse",style:{animationDuration:"4s"}}),e.jsxs("div",{className:"flex items-center gap-4 relative z-10",children:[e.jsx("div",{className:"p-3 bg-white/10 rounded-2xl backdrop-blur-md border border-white/5 shadow-inner",children:e.jsx(Z,{size:24,className:"text-indigo-200",strokeWidth:2.5})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-lg tracking-wide",children:"æˆ‘çš„è´¡çŒ®"}),e.jsx("p",{className:"text-[10px] text-indigo-300 uppercase tracking-widest font-bold",children:"ScholarHub Impact"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-8 relative z-10",children:[e.jsxs("div",{className:"p-4 rounded-2xl bg-white/5 border border-white/5 backdrop-blur-sm hover:bg-white/10 transition-colors",children:[e.jsx("div",{className:"text-indigo-200/70 text-xs mb-1 font-medium uppercase tracking-wider",children:"Uploads"}),e.jsx("div",{className:"text-3xl font-bold font-mono tracking-tight text-white",children:C.count})]}),e.jsxs("div",{className:"p-4 rounded-2xl bg-white/5 border border-white/5 backdrop-blur-sm hover:bg-white/10 transition-colors",children:[e.jsx("div",{className:"text-indigo-200/70 text-xs mb-1 font-medium uppercase tracking-wider",children:"Downloads"}),e.jsx("div",{className:"text-3xl font-bold font-mono tracking-tight text-white",children:C.downloads})]})]}),e.jsxs(p,{to:"/student/resources/upload",className:"mt-8 flex items-center justify-between px-5 py-3.5 bg-indigo-600 hover:bg-indigo-500 rounded-xl text-sm font-bold transition-all group/btn relative z-10 shadow-lg shadow-indigo-900/40 border border-indigo-400/20",children:[e.jsx("span",{children:"åˆ†äº«æ–°èµ„æº"}),e.jsx(g,{size:18,className:"group-hover/btn:translate-x-1 transition-transform"})]})]}),e.jsxs(a.div,{variants:b,whileHover:"hover",className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100/80 flex flex-col relative group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(g,{className:"text-slate-300",size:20})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-orange-50 text-orange-600 rounded-2xl shadow-inner",children:e.jsx(F,{size:22,strokeWidth:2.5})}),e.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"çƒ­é—¨èµ„æº"})]}),e.jsx("div",{className:"flex-1",children:N?e.jsx("div",{className:"space-y-4 animate-pulse",children:[1,2,3].map(t=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-slate-50 rounded-lg"}),e.jsx("div",{className:"h-8 w-32 bg-slate-50 rounded-lg"})]},t))}):z.length>0?e.jsx("ul",{className:"space-y-4",children:z.map((t,x)=>e.jsx("li",{children:e.jsxs(p,{to:`/student/resources/${t.id}`,className:"flex items-center gap-4 group/item cursor-pointer",children:[e.jsx("div",{className:`
                          w-8 h-8 rounded-xl flex items-center justify-center text-xs font-black shrink-0 transition-transform group-hover/item:scale-110 shadow-sm
                          ${x===0?"bg-amber-100 text-amber-600 ring-2 ring-amber-50":x===1?"bg-slate-100 text-slate-600":"bg-orange-50 text-orange-600"}
                        `,children:x+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-bold text-slate-700 truncate group-hover/item:text-indigo-600 transition-colors",title:t.title,children:t.title}),e.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-1 mt-1",children:[e.jsx(G,{size:10,strokeWidth:2.5}),e.jsx("span",{className:"font-mono font-medium",children:t.downloadCount||0})]})]})]})},t.id))}):e.jsx(w,{icon:J,text:"æš‚æ— çƒ­é—¨èµ„æº"})})]}),e.jsxs(a.div,{variants:b,whileHover:"hover",className:"bg-white rounded-[2rem] p-6 shadow-sm border border-slate-100/80 flex flex-col relative group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 rounded-2xl shadow-inner",children:e.jsx(Y,{size:22,strokeWidth:2.5})}),e.jsx("h3",{className:"font-bold text-slate-800 text-lg",children:"æ¶ˆæ¯"})]}),j.length>0&&e.jsxs("span",{className:"relative flex h-3 w-3",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-rose-500 shadow-lg shadow-rose-500/50"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-1 -mr-1",children:N?e.jsx("div",{className:"space-y-3 animate-pulse",children:[1,2].map(t=>e.jsx("div",{className:"h-14 bg-slate-50 rounded-xl"},t))}):j.length>0?e.jsx("ul",{className:"space-y-2",children:e.jsx(K,{children:j.slice(0,3).map(t=>e.jsxs(a.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"bg-white hover:bg-slate-50 p-3 rounded-2xl border border-slate-100 hover:border-slate-200 transition-all group/msg cursor-pointer shadow-sm hover:shadow-md",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[e.jsx("span",{className:"text-[10px] font-bold text-rose-500 uppercase tracking-wider bg-rose-50 px-2 py-0.5 rounded-full",children:"New Answer"}),e.jsx("span",{className:"text-[10px] text-slate-300 group-hover/msg:text-slate-400 transition-colors",children:"Now"})]}),e.jsx("div",{className:"text-sm font-semibold text-slate-700 line-clamp-1 mb-2 group-hover/msg:text-indigo-600 transition-colors",children:t.title}),e.jsxs(p,{to:`/student/qa/${t.questionId}`,className:"flex items-center text-xs text-indigo-500 font-bold opacity-60 group-hover/msg:opacity-100 transition-all gap-1",children:["æŸ¥çœ‹å›å¤ ",e.jsx(g,{size:10,className:"translate-x-0 group-hover/msg:translate-x-1 transition-transform"})]})]},t.id))})}):e.jsx(w,{icon:oe,text:"æ²¡æœ‰æ–°æ¶ˆæ¯"})})]})]})]})}export{je as default};
