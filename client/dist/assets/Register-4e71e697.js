import{r as a,u as k,j as e,m as i,B as z,U as b,L as E,A}from"./index-5b5873b3.js";import{C as w}from"./circle-check-8d17402a.js";import{M as L}from"./mail-6167b5f6.js";import{L as I}from"./lock-126f5e55.js";import{C as M}from"./circle-alert-b381806f.js";import{A as q}from"./arrow-right-ff43a6c3.js";const D=()=>{const[x,j]=a.useState(""),[u,v]=a.useState(""),[l,y]=a.useState(""),[o,n]=a.useState(""),[m,N]=a.useState(""),[r,d]=a.useState(null),[p,h]=a.useState(!1),S=k(),C=async t=>{var g;t.preventDefault(),d(null),h(!0);try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.trim()))throw n("请输入有效的邮箱地址"),new Error("invalid_email");const f=u.trim(),c=x.trim();await A.register({id:f,username:c,email:l,password:m,role:"STUDENT"}),d({type:"success",text:"注册成功！即将跳转登录页"}),setTimeout(()=>S("/login"),500)}catch(s){const c=((g=s==null?void 0:s.data)==null?void 0:g.message)||(s==null?void 0:s.message)||"注册失败，请稍后重试";d({type:"error",text:c})}finally{h(!1)}};return e.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center relative overflow-hidden bg-slate-50",children:[e.jsxs("div",{className:"absolute inset-0 w-full h-full overflow-hidden z-0",children:[e.jsx(i.div,{animate:{x:[0,100,0],y:[0,-50,0],scale:[1,1.2,1]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-purple-400/30 rounded-full blur-[120px] mix-blend-multiply"}),e.jsx(i.div,{animate:{x:[0,-100,0],y:[0,100,0],scale:[1,1.3,1]},transition:{duration:25,repeat:1/0,ease:"linear"},className:"absolute bottom-[-10%] right-[-10%] w-[600px] h-[600px] bg-indigo-400/30 rounded-full blur-[120px] mix-blend-multiply"})]}),e.jsxs(i.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"relative z-10 w-full max-w-5xl mx-4 min-h-[600px] bg-white/40 backdrop-blur-xl rounded-3xl border border-white/50 shadow-2xl overflow-hidden flex flex-col lg:flex-row",children:[e.jsxs("div",{className:"hidden lg:flex w-1/2 flex-col justify-between p-12 relative overflow-hidden group bg-indigo-900/5",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/80 to-purple-600/80 mix-blend-overlay opacity-10 group-hover:opacity-20 transition-opacity duration-700"}),e.jsx(i.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3},className:"relative z-10",children:e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-md rounded-xl border border-white/20 shadow-inner",children:e.jsx(z,{className:"w-8 h-8 text-indigo-700"})}),e.jsx("span",{className:"text-2xl font-bold text-indigo-900 tracking-tight",children:"ScholarHub"})]})}),e.jsxs(i.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},className:"relative z-10 space-y-6",children:[e.jsxs("h1",{className:"text-4xl font-bold text-slate-800 leading-tight",children:["加入社区",e.jsx("br",{}),e.jsx("span",{className:"text-purple-600",children:"开启学术之旅"})]}),e.jsx("p",{className:"text-slate-600 text-lg max-w-sm",children:"连接校园资源与答疑互动，这里是你分享与获取知识的最佳平台。"}),e.jsx("div",{className:"mt-8 p-4 bg-white/40 backdrop-blur-md rounded-2xl border border-white/40 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-full text-green-600",children:e.jsx(w,{size:20})}),e.jsx("div",{className:"text-sm text-slate-700 font-medium",children:"注册即享海量资源免费下载"})]})})]}),e.jsx("div",{className:"relative z-10 text-xs text-slate-500",children:"© 2025 ScholarHub. Join us today."})]}),e.jsx("div",{className:"w-full lg:w-1/2 bg-white/60 backdrop-blur-md p-8 sm:p-12 flex items-center justify-center relative",children:e.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[e.jsxs("div",{className:"text-center lg:text-left",children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:"创建新账户"}),e.jsx("p",{className:"mt-2 text-slate-500 text-sm",children:"请填写以下信息以完成注册"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"group relative",children:[e.jsx(b,{className:"absolute left-4 top-3.5 h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),e.jsx("input",{type:"text",required:!0,value:u,onChange:t=>v(t.target.value),className:"w-full pl-11 pr-4 py-3 bg-white/50 border border-slate-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400",placeholder:"学号"})]}),e.jsxs("div",{className:"group relative",children:[e.jsx(b,{className:"absolute left-4 top-3.5 h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),e.jsx("input",{type:"text",required:!0,value:x,onChange:t=>j(t.target.value),className:"w-full pl-11 pr-4 py-3 bg-white/50 border border-slate-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400",placeholder:"设置用户名"})]}),e.jsxs("div",{className:"group relative",children:[e.jsx(L,{className:"absolute left-4 top-3.5 h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),e.jsx("input",{type:"email",required:!0,value:l,onChange:t=>{y(t.target.value),o&&n("")},onBlur:()=>{n(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.trim())?"":"请输入有效的邮箱地址")},className:"w-full pl-11 pr-4 py-3 bg-white/50 border border-slate-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400",placeholder:"电子邮箱地址"}),o&&e.jsx("div",{className:"mt-2 text-xs text-rose-600 font-medium",children:o})]}),e.jsxs("div",{className:"group relative",children:[e.jsx(I,{className:"absolute left-4 top-3.5 h-5 w-5 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),e.jsx("input",{type:"password",required:!0,value:m,onChange:t=>N(t.target.value),className:"w-full pl-11 pr-4 py-3 bg-white/50 border border-slate-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400",placeholder:"设置密码 (至少6位)"})]})]}),r&&e.jsxs(i.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 rounded-lg flex items-center gap-2 text-sm font-medium ${r.type==="success"?"bg-green-100/50 text-green-700":"bg-red-100/50 text-red-700"}`,children:[r.type==="success"?e.jsx(w,{size:18}):e.jsx(M,{size:18}),r.text]}),e.jsx(i.button,{whileHover:{scale:1.01},whileTap:{scale:.98},type:"submit",disabled:p,className:"w-full py-3.5 px-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl font-bold shadow-lg shadow-indigo-500/30 hover:shadow-indigo-500/40 disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all",children:p?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"animate-spin h-5 w-5"}),e.jsx("span",{children:"正在创建账户..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"立即注册"}),e.jsx(q,{className:"h-5 w-5"})]})}),e.jsxs("div",{className:"text-center text-sm text-slate-500",children:["已有账号？",e.jsx("a",{href:"/login",className:"text-indigo-600 font-semibold hover:underline ml-1",children:"直接登录"})]})]})]})})]})]})};export{D as default};
