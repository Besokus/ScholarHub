## 总览
- 目标：实现学生用户专属 UI 与功能模块（通知提醒、学习资源管理、问答社区、个人中心），并建立公共组件库与严格的权限控制；满足性能、移动适配与测试指标。
- 技术：React 18 + React Router + Tailwind v4 + framer-motion + lucide-react；统一请求封装与权限守卫；后续可接入 WebSocket/SSE。
- 风格：延续现有渐变、毛玻璃卡片、圆角、阴影与图标规范；响应式优先。

## 信息架构与路由
- 顶栏（通知徽章、账号菜单）+ 左侧学生导航（Dashboard/Courses/Resources/QA/Assignments/Schedule/Notifications/Profile）
- 路由：`/student/*` 下挂载各模块；保留 `PrivateRoute` 与 `StudentRoute` 守卫（登录态 + 角色=STUDENT）。
- 页面布局：最大宽度 `max-w-7xl`，主内容区域卡片化；移动端隐藏侧栏，使用顶部抽屉。

## 公共组件库（复用与扩展）
- 布局：`PageHeader`（标题/副标题/右侧操作）、`Card`（容器）
- 列表与分页：`Table`、`Pagination`、`EmptyState`、`Skeleton`
- 交互：`Modal`、`Drawer`、`Tabs`、`Badge`、`Toast`（后续可引入或自研）
- 搜索：`SearchBar`（关键词输入、筛选项、多条件组合）
- 树形：`TreeView`（课程分类树）
- 表单：`FormField`（校验与错误提示）、`UploadField`（进度与类型限制）
- 扩展点：通过 props 配置图标、颜色、尺寸、插槽（空态、行渲染器）。

## 会话与权限
- 会话保持：`localStorage.token` + 失效重定向；统一请求层（`services/api`）注入 Authorization，处理 401/403。
- 权限：`StudentRoute` 保护 `/student/*`；`usePermission` 在组件级隐藏/禁用未授权入口。
- 数据安全：前端不存敏感信息；展示层做 XSS 防护（富文本渲染时安全处理）。

## 通知提醒系统
- 需求：实时监测教师回答状态；顶部右侧显示徽章“您有 X 条新回答”，点击进入对应问题详情；已读自动标记。
- 方案：
  - 优先轮询（每 30–60 秒）`GET /notifications?type=answer&status=unread`；后续升级为 WebSocket/SSE。
  - 通知数据结构：`{ id, questionId, title, createdAt, read: boolean }`
  - 交互：点击徽章打开通知列表 Drawer；点击条目跳转 `/student/qa/:questionId`；渲染后 `POST /notifications/:id/read`。

## 学习资源管理系统
### 浏览与检索
- 课程树：左侧 `TreeView` 展示课程分类；选中后主面板显示该课程资源。
- 检索维度：
  - 标题关键词（模糊）
  - 内容全文（后端支持；前端传参）
  - 课程分类筛选（多选）
- 分页：每页 20 条（可配置），页码与每页条数存 URL Query；`GET /resources?courseIds=&q=&fulltext=&page=&pageSize=` 返回 `{ items, total }`。
### 上传
- 支持文件：PDF/JPG/PNG/ZIP/RAR；最大 50MB，前端类型与大小拦截；展示进度条。
- 必填元数据：标题（≤100）、简介（≤500）、所属课程（下拉选择）；自动记录上传时间（后端生成，前端显示）。
- 接口：`POST /resources`（metadata），`POST /resources/:id/file`（分片/直传，后端最终合并）；若后端单接口，采用 `multipart/form-data`。
### 详情与下载日志
- 详情展示：上传者姓名与头像、描述、实时下载计数器、文件大小与类型标识、下载按钮。
- 下载记录：点击下载触发 `POST /resources/:id/downloads` 并开始文件流；详情页 `GET /resources/:id` 返回计数。

## 问答社区功能
### 提问
- 入口：课程详情页或 QA 首页；表单包含标题（≤50）、内容（富文本 ≤2000）、图片附件（≤3 张, 每张 <2MB），自动记录提问时间（后端生成）。
- 上传图片：`POST /uploads/images`，返回 URL 集合；问题创建 `POST /qa/questions`。
### 展示
- 分页：每页 15 条；排序：最新/最热/未回答；问题状态：待回答/已解决。
- 列表 API：`GET /qa/questions?courseId=&page=&pageSize=&sort=&status=`；返回 `{ items, total }`。
### 搜索（高级语法）
- 条件：学科领域、授课教师、关键词（标题+内容）；语法 AND/OR/NOT。
- 前端处理：解析查询字符串构造筛选条件；后端执行语义搜索；前端做高亮与回显。

## 个人中心管理
- 学习资源：我的上传（改/删），下载历史（`GET /me/downloads`）。
- 问答：我的提问（编辑/删除）、已获回答专区；回答内容永久保存（只增不删）。
- 账号设置：个人信息维护、通知偏好（开关与频率）。

## UI 布局与美化
- 顶栏：右侧通知徽章与头像菜单；左侧系统 Logo。
- 侧栏：学生导航带图标（lucide-react），当前页面高亮；移动端折叠。
- 主内容：卡片分区；列表页顶部 `PageHeader` + 搜索条；上传与提问使用 Modal 表单；详情页采用两栏布局（信息 + 操作）。
- 动效：页面淡入、卡片轻微悬浮、徽章闪烁限制频率（可选）。

## 性能与系统要求
- 响应时间：接口与渲染预算 < 2 秒；列表采用分页与惰性加载。
- 并发：前端层面支持并发请求取消与去抖；通知轮询避免雪崩；后续接入 WebSocket。
- 安全：HTTPS、Token 鉴权、上传类型与大小校验、富文本 XSS 防护、下载日志写入后端。
- 移动适配：断点布局；表格在小屏转卡片视图。

## 测试与质量保证
- 单元测试：组件与 hooks 覆盖（目标 ≥85%）；mock API。
- 集成测试：路由守卫、权限控制、上传/下载/提问流程、分页与排序。
- 压力测试：配合后端脚本模拟 500 并发上传；前端验证 UI 与错误处理。
- 兼容性：Chrome/Firefox/Safari/Edge 最新 3 版本；Tailwind 与事件兼容性核验。
- 安全测试：OWASP Top10 相关用例（XSS、CSRF、注入预防等）。

## 数据模型与接口契约（前端期望）
- 用户：`{ id(学号/教师编号), username, role, avatar, email }`
- 资源：`{ id, title, summary, courseId, size, type, uploader:{id,name,avatar}, createdAt, downloadCount, fileUrl }`
- 问题：`{ id, courseId, title, contentHTML, images[], status, createdBy, createdAt, answerCount, hotScore }`
- 通知：`{ id, type:'answer', questionId, title, createdAt, read }`

## 开发优先级与交付
- 第一阶段：Dashboard/Courses/Resources（浏览/检索/分页）/QA（列表与提问基础）+ 通知轮询与徽章
- 第二阶段：资源上传、详情与下载日志；QA 富文本与高级搜索；个人中心
- 第三阶段：公共组件库完善、hooks 与 API 封装统一、测试覆盖与压测脚本

---
请确认是否按此计划推进第一阶段的实现（页面与通知基础、资源浏览检索分页、QA 列表与提问）。确认后我将开始编码并交付可运行的前端模块。