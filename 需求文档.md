# 大学生在线学习资源共享与答疑互动平台 - 需求文档

## 项目简介
**项目名称**：University Learning Efficiency Platform (ULEP)

**项目背景**：
旨在解决大学生获取学习资料渠道分散、答疑反馈不及时的问题，构建一个集资源共享、在线问答、教学管理于一体的高效互动平台。

**核心目标**：
- 资源数字化
- 答疑实时化
- 管理规范化

---

## 系统角色

| 角色 | 获取方式 | 核心权限 |
| :--- | :--- | :--- |
| **管理员 (Admin)** | 系统初始化预设 | 拥有最高权限，负责课程管理、教师管理、内容监管（删帖/封禁）。 |
| **教师 (Teacher)** | 由管理员添加 | 负责解答问题、发布高质量资源、设置资源权限。 |
| **学生 (Student)** | 自由注册 | 浏览/下载资源、上传分享资源、提问、查看回答。 |

---

## 功能详情

### 通用模块 (Common)
所有登录用户（Admin, Teacher, Student）均具备以下功能：
- **账号安全**：修改登录密码。
- **个人资料**：编辑头像、邮箱、昵称/姓名等基本信息。
- **文件服务**：支持图片、PDF、压缩包等常见格式的上传与下载。

### 管理员模块 (Admin)
- **课程管理**：
  - CRUD（增删改查）课程信息。
  - 字段：课程名称、授课教师（关联教师ID）、课程内容描述、开课学院。
- **教师管理**：
  - CRUD 教师账号信息。
  - 字段：姓名、工号、登录账号、初始密码、职称、简介、讲授课程（支持多选）。
- **内容风控（资源与问答）**：
  - **资源审计**：查看所有上传的资源，有权删除违规/不合规资源，修改资源描述。
  - **问答审计**：查看所有问答，有权删除违规提问或错误回答。

### 学生模块 (Student)
- **注册与登录**：学生通过学号/邮箱注册，登录系统。
- **通知中心**：
  - **逻辑**：当学生发布的“问题”状态变更为“已回答”时，系统推送通知。
  - **交互**：显示“您有 X 条新回答”，点击直接跳转至问题详情页。
- **学习资源中心**：
  - **浏览**：按“课程”分类展示资源列表。
  - **搜索**：支持对“资源标题”和“简介内容”进行关键字模糊搜索。
  - **上传**：上传资源（PDF/Zip/Img），需填写：标题、简介、所属课程。系统自动记录上传时间。
  - **详情页**：显示上传者、资源简介、**下载次数**（每次下载计数+1）。
  - **个人管理**：在个人中心查看、修改、删除自己上传的资源。
- **在线问答区**：
  - **提问**：选择具体课程 -> 填写标题、内容 -> 上传图片附件（可选）。
  - **列表展示**：支持分页加载（Pagination）。
  - **全局搜索**：支持按“学科”、“教师姓名”、“关键字”检索全站历史问答。
  - **个人管理**：查看自己提出的问题（区分已解决/未解决）、修改/删除自己的提问。

### 教师模块 (Teacher)
- **待办提醒**：
  - **逻辑**：检测所授课程下是否存在“未回答”状态的问题。
  - **交互**：登录后首页提示“您所上课程有 X 条未回答问题”，点击进入答疑工作台。
- **资源发布与权限**：
  - **发布**：上传教学资料（支持附件），填写标题、说明、所属课程。
  - **权限控制**：发布时可勾选可见性：
    - `Public`：全平台学生可见。
    - `Class Only`：仅本课程班级学生可见（*注：需在数据库设计中关联学生与课程的选课关系，或简化为“仅本学院可见”*）。
- **答疑工作台**：
  - **查看**：筛选出自己所授课程的所有学生提问。
  - **回答**：支持富文本（文本+图片/附件）回复。
  - **管理**：修改或删除自己的回答记录。

---

## 数据模型设计

### 数据表
1. **Users (用户表)**
   - 字段：ID, Username, Password, Role (Admin/Student/Teacher), Avatar, Email, Title (Teacher only)
2. **Courses (课程表)**
   - 字段：ID, Name, Description, Department, TeacherID (Foreign Key)
3. **Resources (资源表)**
   - 字段：ID, Title, Description, FilePath, UploaderID, CourseID, ViewType (Public/Class), DownloadCount, CreateTime
4. **Questions (提问表)**
   - 字段：ID, Title, Content, StudentID, CourseID, Status (Unanswered/Answered), CreateTime, Images
5. **Answers (回答表)**
   - 字段：ID, QuestionID, TeacherID, Content, Attachments, CreateTime

---

## 开发计划

### 前端开发
1. **路由功能开发**：
   - 根据用户角色设置不同的页面访问权限。
   - 实现导航栏组件，支持页面跳转。
2. **平台布局与导航**：
   - 创建基础布局，包含导航栏、侧边栏和内容区域。
   - 确保页面响应式设计。
3. **登录与注册功能**：
   - 实现学生的注册与登录页面。
   - 使用表单验证用户输入。
4. **资源中心**：
   - 实现资源浏览、搜索、上传功能。
   - 创建资源详情页面，显示资源信息和下载次数。
5. **在线问答区**：
   - 实现提问功能，支持图片附件上传。
   - 创建问题列表页面，支持分页加载和搜索。

### 后端开发
1. **用户管理**：
   - 实现用户注册、登录功能。
   - 使用 JWT 进行身份验证。
2. **课程管理**：
   - 实现课程的增删改查功能。
   - 关联教师和课程。
3. **资源管理**：
   - 实现资源上传、下载功能。
   - 记录资源的下载次数。
4. **问答管理**：
   - 实现问题的提问、回答功能。
   - 支持富文本和附件上传。
   - 实现问题和回答的审计功能。

---

## 技术栈
- **前端**：React, TypeScript
- **后端**：Node.js, Express
- **数据库**：MySQL
- **其他**：Webpack, RESTful API